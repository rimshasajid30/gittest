{"version":3,"sources":["@wordpress/block-editor/src/components/rich-text/content.js"],"names":["RawHTML","children","childrenSource","getSaveElement","__unstableGetBlockProps","getBlockProps","deprecated","getMultilineTag","Content","value","tagName","Tag","multiline","props","Array","isArray","since","version","alternative","link","toHTML","MultilineTag","content","format","restProps","__unstableIsRichTextContent","findContent","blocks","richTextValues","block","type","push","_getSaveElement","name","attributes","innerBlocks","map","getRichTextValues","skipFilters","values"],"mappings":";;AAAA;AACA;AACA;AACA,SAASA,OAAT,QAAwB,oBAAxB;AACA,SACCC,QAAQ,IAAIC,cADb,EAECC,cAFD,EAGCC,uBAAuB,IAAIC,aAH5B,QAIO,mBAJP;AAKA,OAAOC,UAAP,MAAuB,uBAAvB;AAEA;AACA;AACA;;AACA,SAASC,eAAT,QAAgC,SAAhC;AAEA,OAAO,MAAMC,OAAO,GAAG,CAAE;AAAEC,EAAAA,KAAF;AAASC,EAAAA,OAAO,EAAEC,GAAlB;AAAuBC,EAAAA,SAAvB;AAAkC,KAAGC;AAArC,CAAF,KAAoD;AAC1E;AACA,MAAKC,KAAK,CAACC,OAAN,CAAeN,KAAf,CAAL,EAA8B;AAC7BH,IAAAA,UAAU,CAAE,qDAAF,EAAyD;AAClEU,MAAAA,KAAK,EAAE,KAD2D;AAElEC,MAAAA,OAAO,EAAE,KAFyD;AAGlEC,MAAAA,WAAW,EAAE,sBAHqD;AAIlEC,MAAAA,IAAI,EAAE;AAJ4D,KAAzD,CAAV;AAOAV,IAAAA,KAAK,GAAGP,cAAc,CAACkB,MAAf,CAAuBX,KAAvB,CAAR;AACA;;AAED,QAAMY,YAAY,GAAGd,eAAe,CAAEK,SAAF,CAApC;;AAEA,MAAK,CAAEH,KAAF,IAAWY,YAAhB,EAA+B;AAC9BZ,IAAAA,KAAK,GAAI,IAAIY,YAAc,MAAMA,YAAc,GAA/C;AACA;;AAED,QAAMC,OAAO,GAAG,cAAC,OAAD,QAAWb,KAAX,CAAhB;;AAEA,MAAKE,GAAL,EAAW;AACV,UAAM;AAAEY,MAAAA,MAAF;AAAU,SAAGC;AAAb,QAA2BX,KAAjC;AACA,WAAO,cAAC,GAAD,OAAUW;AAAV,OAAwBF,OAAxB,CAAP;AACA;;AAED,SAAOA,OAAP;AACA,CA3BM;AA6BPd,OAAO,CAACiB,2BAAR,GAAsC,EAAtC;;AAEA,SAASC,WAAT,CAAsBC,MAAtB,EAA8BC,cAAc,GAAG,EAA/C,EAAoD;AACnD,MAAK,CAAEd,KAAK,CAACC,OAAN,CAAeY,MAAf,CAAP,EAAiC;AAChCA,IAAAA,MAAM,GAAG,CAAEA,MAAF,CAAT;AACA;;AAED,OAAM,MAAME,KAAZ,IAAqBF,MAArB,EAA8B;AAC7B,QACCE,KAAK,EAAEC,IAAP,EAAaL,2BAAb,KACAjB,OAAO,CAACiB,2BAFT,EAGE;AACDG,MAAAA,cAAc,CAACG,IAAf,CAAqBF,KAAK,CAAChB,KAAN,CAAYJ,KAAjC;AACA;AACA;;AAED,QAAKoB,KAAK,EAAEhB,KAAP,EAAcZ,QAAnB,EAA8B;AAC7ByB,MAAAA,WAAW,CAAEG,KAAK,CAAChB,KAAN,CAAYZ,QAAd,EAAwB2B,cAAxB,CAAX;AACA;AACD;;AAED,SAAOA,cAAP;AACA;;AAED,SAASI,eAAT,CAA0B;AAAEC,EAAAA,IAAF;AAAQC,EAAAA,UAAR;AAAoBC,EAAAA;AAApB,CAA1B,EAA8D;AAC7D,SAAOhC,cAAc,CACpB8B,IADoB,EAEpBC,UAFoB,EAGpBC,WAAW,CAACC,GAAZ,CAAiBJ,eAAjB,CAHoB,CAArB;AAKA;;AAED,OAAO,SAASK,iBAAT,CAA4BV,MAAM,GAAG,EAArC,EAA0C;AAChDtB,EAAAA,aAAa,CAACiC,WAAd,GAA4B,IAA5B;AACA,QAAMC,MAAM,GAAGb,WAAW,CACzB,CAAEZ,KAAK,CAACC,OAAN,CAAeY,MAAf,IAA0BA,MAA1B,GAAmC,CAAEA,MAAF,CAArC,EAAkDS,GAAlD,CAAuDJ,eAAvD,CADyB,CAA1B;AAGA3B,EAAAA,aAAa,CAACiC,WAAd,GAA4B,KAA5B;AACA,SAAOC,MAAP;AACA","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { RawHTML } from '@wordpress/element';\nimport {\n\tchildren as childrenSource,\n\tgetSaveElement,\n\t__unstableGetBlockProps as getBlockProps,\n} from '@wordpress/blocks';\nimport deprecated from '@wordpress/deprecated';\n\n/**\n * Internal dependencies\n */\nimport { getMultilineTag } from './utils';\n\nexport const Content = ( { value, tagName: Tag, multiline, ...props } ) => {\n\t// Handle deprecated `children` and `node` sources.\n\tif ( Array.isArray( value ) ) {\n\t\tdeprecated( 'wp.blockEditor.RichText value prop as children type', {\n\t\t\tsince: '6.1',\n\t\t\tversion: '6.3',\n\t\t\talternative: 'value prop as string',\n\t\t\tlink: 'https://developer.wordpress.org/block-editor/how-to-guides/block-tutorial/introducing-attributes-and-editable-fields/',\n\t\t} );\n\n\t\tvalue = childrenSource.toHTML( value );\n\t}\n\n\tconst MultilineTag = getMultilineTag( multiline );\n\n\tif ( ! value && MultilineTag ) {\n\t\tvalue = `<${ MultilineTag }></${ MultilineTag }>`;\n\t}\n\n\tconst content = <RawHTML>{ value }</RawHTML>;\n\n\tif ( Tag ) {\n\t\tconst { format, ...restProps } = props;\n\t\treturn <Tag { ...restProps }>{ content }</Tag>;\n\t}\n\n\treturn content;\n};\n\nContent.__unstableIsRichTextContent = {};\n\nfunction findContent( blocks, richTextValues = [] ) {\n\tif ( ! Array.isArray( blocks ) ) {\n\t\tblocks = [ blocks ];\n\t}\n\n\tfor ( const block of blocks ) {\n\t\tif (\n\t\t\tblock?.type?.__unstableIsRichTextContent ===\n\t\t\tContent.__unstableIsRichTextContent\n\t\t) {\n\t\t\trichTextValues.push( block.props.value );\n\t\t\tcontinue;\n\t\t}\n\n\t\tif ( block?.props?.children ) {\n\t\t\tfindContent( block.props.children, richTextValues );\n\t\t}\n\t}\n\n\treturn richTextValues;\n}\n\nfunction _getSaveElement( { name, attributes, innerBlocks } ) {\n\treturn getSaveElement(\n\t\tname,\n\t\tattributes,\n\t\tinnerBlocks.map( _getSaveElement )\n\t);\n}\n\nexport function getRichTextValues( blocks = [] ) {\n\tgetBlockProps.skipFilters = true;\n\tconst values = findContent(\n\t\t( Array.isArray( blocks ) ? blocks : [ blocks ] ).map( _getSaveElement )\n\t);\n\tgetBlockProps.skipFilters = false;\n\treturn values;\n}\n"]}